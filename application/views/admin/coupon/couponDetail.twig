
{% extends "layout/esui.twig" %}
{% block main %}
    <div id="container" style="min-width:380px;height:400px"></div>
{% endblock %}
{% block script %}
    <script src="/static/highcharts/highcharts.js" type="text/javascript"></script> 
    <script src="/static/highcharts/modules/exporting.js" type="text/javascript"></script> 
    <script>
        $(function () {
        var use = {{use_coupon_nums}};
                var no_use = {{coupon_nums}} - {{use_coupon_nums}};
                $('#container').highcharts({
        chart: {
        plotBackgroundColor: null,
                plotBorderWidth: null,
                plotShadow: false
        },
                colors: ['#ED561B', '#50B432', '#058DC7', '#DDDF00', '#24CBE5', '#64E572', '#FF9655', '#FFF263', '#6AF9C4'],
                title: {
                text: '优惠券使用情况'
                },
                tooltip: {
                valueSuffix: '张'
                },
                plotOptions: {
                pie: {
                allowPointSelect: true,
                        cursor: 'pointer',
                        dataLabels: {
                        enabled: true,
                                color: '#000000',
                                connectorColor: '#000000',
                                format: '<b>{point.name}</b>: {point.percentage:.1f} %'
                        }
                }
                },
                series: [{
                type: 'pie',
                        name: '优惠券',
                        data: [
                                ['未使用', no_use],
                                ['已使用', use],
                        ]
                }]
        });
        });
    </script>
{% endblock %}